#!/usr/bin/env ruby
# frozen_string_literal: true

$LOAD_PATH.unshift File.dirname(__FILE__) + "/../lib"

require "rubygems"
require "bundler/setup"
require "bots"

unless ARGV.length == 1
  warn "usage: #{$0} input-file"
  exit 1
end

cli    = Bots::CLI.new(ARGV.first)
result = cli.run

if result.success?
  puts result.out.formatted
  exit 0
else
  warn result.out.formatted
  exit 1
end
